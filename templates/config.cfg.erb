[Main]
# Server Density Agent Config
# This file is managed by Puppet. Any changes will be overwritten on the next Puppet run.

sd_account: <%= @sd_account %>
agent_key: <%= @agent_key %>
<%- if @sd_url -%>
sd_url: <%= @sd_url %>
<%- end -%>
<%- if @proxy_host %>
proxy_host: <%= @proxy_host %>
  <%- if @proxy_port %>
proxy_port: <%= @proxy_port %>
  <%- end -%>
  <%- if @proxy_user %>
proxy_user: <%= @proxy_user %>
  <%- end -%>
  <%- if @proxy_password %>
proxy_password: <%= @proxy_password %>
  <%- end -%>
  <%- if @proxy_forbid_method_switch %>
proxy_forbid_method_switch: <%= @proxy_forbid_method_switch %>
  <%- end -%>

<%- end -%>
<%- if @server_name -%>
hostname: <%= @server_name %>

<%- end -%>
plugin_directory: <%= @plugin_directory %>

<%- if @log_level %>
log_level: <%= @log_level %>
<%- end -%>
<%- if @collector_log_file %>
collector_log_file: <%= @collector_log_file %>
<%- end -%>
<%- if @forwarder_log_file %>
forwarder_log_file: <%= @forwarder_log_file %>

<%- end -%>
<%- if @log_to_syslog %>
log_to_syslog: <%= @log_to_syslog %>
<%- end -%>
<%- if @syslog_host %>
syslog_host: <%= @syslog_host %>
<%- end -%>
<%- if @syslog_port %>
syslog_port: <%= @syslog_port %>
<%- end -%>

# sdstatsd
<%- if @use_sdstatsd -%>
use_sdstatsd: yes
<%- else -%>
use_sdstatsd: no
<%- end -%>
<%- if @statsd_forward_host -%>
statsd_forward_host: <%= @statsd_fw_host %>
<%- end -%>
<%- if @statsd_forward_port-%>
statsd_forward_port: <%= @statsd_fw_port %>
<%- end -%>
